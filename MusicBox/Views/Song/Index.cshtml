@model IEnumerable<MusicBox.Models.Songs>
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
	ViewBag.Title = @Resources.Resource.SongList;
}


<section class="total">

<section id="login">
	 <div class="left">
				

@if (Model != null)
{
	@if (Context.Session.GetString("Id") != null)

	{
		<div>
			<div class="button">
				<a asp-controller="Song" asp-action="Create" id="buttons" style="background:purple" margin-right">Добавить песню</a>
			</div>
			</div>
	}
	else

	{
					<h4>
						@Resources.Resource.Please
			</h4>
					<h3>
						<a asp-controller="Account"
						   style="font-size:26px" margin="10px" asp-action="Login" class="grey" style="color:grey font-size:42px text-align:center">@Resources.Resource.log_in</a>
					</h3> <h4>@Resources.Resource.or</h4> <h3>
						<a asp-controller="Account" style="font-size:42p color:grey text-align:center" class="grey" asp-action="Register">@Resources.Resource.reg</a>
		</h3>
	}
}


			@if (ViewBag.IsAdmin != null && (bool)ViewBag.IsAdmin)
			{
				<div class="button">
					<a asp-controller="Song" asp-action="IndexAdmin" id="buttons" style="background:purple">АДМИН</a>
				</div>
				<div class="button">
					<a asp-controller="Genres" id="buttons" style="background:purple" asp-action="Index">ЖАНРЫ</a>
				</div>
			}
</div>

</section>


 <section class="main">

		<thead>
			<tr>
				<th>
					<a asp-action="Index" asp-route-sortOrder="@ViewBag.NameSort">
						Singer
					</a>
				</th>
				<th>
					<a asp-action="Index" asp-route-sortOrder="@ViewBag.SongSort">
						Song
					</a>
				</th>
			</tr>
		</thead>
		


@foreach (var item in Model)

	{
		<div class="song-container">
		<div class="picture-container">
			<a asp-action="Detailes" enctype="multipart/form-data" asp-route-id="@item.Id">
				<img class="picture" src="@Html.DisplayFor(modelItem => item.pic)">
			</a>
		</div>
			<div class="song-details">
				<ul>
					<li>
						<a asp-action="Details" enctype="multipart/form-data" asp-route-id="@item.Id" style="color:black">
							<h4>@Html.DisplayFor(modelItem => item.name)</h4>
						</a>
					</li>
					<li>
						<a asp-action="" asp-route-id="@item.Id" style="color:black">
							<h4>@Html.DisplayFor(modelItem => item.singer)</h4>
						</a>
					</li>
					<li>
						<div class="audio">
							<audio controls src="@Html.DisplayFor(modelItem => item.file)"></audio>
							
						</div>
					</li>
					<li>
						<div>

								<p>@Resources.Resource.Runtime: @Html.DisplayFor(modelItem => item.runtime)</p>
						</div>
					</li>
						<li>
							<div>

								<p>@Resources.Resource.Genre: @Html.DisplayFor(modelItem => item.genre.name)</p>
							</div>
						</li>


				</ul>
				
			
			</div>
				<div class="button-box">
					<div id="buttons">

						<a asp-action="Details" asp-route-id="@item.Id">@Resources.Resource.Detailes</a>
					</div>
				</div>
		</div>
		<hr />
	}
	
</section>

		</div>			
	<hr />
	<hr />
</section>
</section>
<hr />
			










